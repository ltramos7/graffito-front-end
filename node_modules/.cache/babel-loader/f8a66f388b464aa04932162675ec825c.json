{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/mod_5_project/front-end/src/containers/MuralContainer.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport Button from 'react-bootstrap/Button';\n\nclass MuralContainer extends Component {\n  // once the function below works, pass it as props to <Murals>\n  // also might want another map function to pass a single Mural object to render a MuralObj in <aMural>\n  constructor() {\n    super();\n\n    this.addFavorite = muralObj => {\n      const reqObj = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          mural: this.state.mural\n        }, {\n          user: this.props.user\n        })\n      };\n      return (//update mural state\n        // do fetch post to users id\n        // json stringify this.state.mural\n        // might need to make the fetch a seperate function\n        this.setState({\n          mural: muralObj\n        }), fetch('http://localhost:3000/favorites', reqObj).then(resp => resp.json()).then(muralData => console.log(muralData))\n      );\n    };\n\n    this.state = {\n      murals: [],\n      mural: null\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3000/murals\").then(resp => resp.json()).then(muralData => this.setState({\n      murals: muralData\n    }));\n  }\n\n  render() {\n    console.log(this.props.user);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardDeck, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, this.state.murals.map(muralObj => {\n      return /*#__PURE__*/React.createElement(Card, {\n        key: muralObj.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        onClick: () => this.props.handleClick(muralObj),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/murals/${muralObj.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 49\n        }\n      }, muralObj.mural_title)), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 45\n        }\n      }, muralObj.description), /*#__PURE__*/React.createElement(Button, {\n        variant: \"test\",\n        onClick: () => {\n          this.addFavorite(muralObj);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }, \"Add to Favorites\")));\n    }))));\n  }\n\n}\n\nexport default MuralContainer;","map":{"version":3,"sources":["/Users/flatironschool/mod_5_project/front-end/src/containers/MuralContainer.js"],"names":["React","Component","Link","Card","CardDeck","Button","MuralContainer","constructor","addFavorite","muralObj","reqObj","method","headers","body","JSON","stringify","mural","state","user","props","setState","fetch","then","resp","json","muralData","console","log","murals","componentDidMount","render","map","id","handleClick","mural_title","description"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport Card from 'react-bootstrap/Card';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport Button from 'react-bootstrap/Button';\n\n\n\nclass MuralContainer extends Component{\n   \n    // once the function below works, pass it as props to <Murals>\n    // also might want another map function to pass a single Mural object to render a MuralObj in <aMural>\n\n    constructor(){\n        super()\n        this.state = {\n            murals: [],\n            mural: null\n        }\n    }\n\n    componentDidMount(){\n        fetch(\"http://localhost:3000/murals\")\n        .then( resp => resp.json() )\n        .then( muralData => this.setState({\n          murals: muralData\n        }))\n      }\n\n    addFavorite = (muralObj) => {\n\n        const reqObj = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(\n                {mural: this.state.mural},\n                {user: this.props.user})\n        }\n\n        return (\n            //update mural state\n            // do fetch post to users id\n            // json stringify this.state.mural\n\n            // might need to make the fetch a seperate function\n\n            this.setState({\n                mural: muralObj\n            }),\n            \n            fetch('http://localhost:3000/favorites', reqObj)\n            .then( resp => resp.json() )\n            .then( muralData => console.log(muralData))\n        )\n    }\n    \n   \n   \n  \n    render(){\n        console.log(this.props.user)\n        return(\n            \n            <div>\n                <div>\n                    <CardDeck>\n                        {this.state.murals.map(muralObj => {\n                                return (\n                                    <Card key ={muralObj.id}>\n                                        <Card.Body >\n                                            <Card.Title onClick={() => this.props.handleClick(muralObj)}> \n                                                <Link to={`/murals/${muralObj.id}`}>{muralObj.mural_title}</Link>\n                                            </Card.Title>\n                                            <Card.Text>\n                                                {muralObj.description}\n                                            </Card.Text>\n                                            <Button variant=\"test\" onClick={()=>{this.addFavorite(muralObj)}}>Add to Favorites</Button>\n                                        </Card.Body>\n                                       \n                                    </Card>\n                                )\n                            })}\n                    </CardDeck>\n                </div>\n                \n            </div>\n        )\n    }\n}\n\nexport default MuralContainer\n\n"]},"metadata":{},"sourceType":"module"}