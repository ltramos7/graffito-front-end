{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/mod_5_project/front-end/src/components/Signup.js\";\nimport React, { Component } from \"react\";\n\nclass Signup extends Component {\n  constructor() {\n    super();\n\n    this.handleInputChange = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const reqObj = {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n      };\n      fetch(\"http://localhost:3000/signup\", reqObj).then(resp => resp.json()).then(data => {\n        if (data.error) {\n          alert(data.error);\n        } else {\n          localStorage.setItem(\"token\", data.jwt); // it seems like I'm not properly setting the token here. When I sign up and run (in console) local.storage\n\n          this.props.history.push(`/profile/${data.id}`);\n        }\n      });\n    };\n\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      user_name: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"first_name\",\n      onChange: this.handleInputChange,\n      placeholder: \"First Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"last_name\",\n      onChange: this.handleInputChange,\n      placeholder: \"Last Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"user_name\",\n      onChange: this.handleInputChange,\n      placeholder: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleInputChange,\n      placeholder: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    })), \"Signup page\");\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/flatironschool/mod_5_project/front-end/src/components/Signup.js"],"names":["React","Component","Signup","constructor","handleInputChange","event","setState","state","target","name","value","handleSubmit","preventDefault","reqObj","method","headers","body","JSON","stringify","fetch","then","resp","json","data","error","alert","localStorage","setItem","jwt","props","history","push","id","first_name","last_name","user_name","password","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,MAAN,SAAqBD,SAArB,CAA8B;AAE1BE,EAAAA,WAAW,GAAE;AAET;;AAFS,SAYbC,iBAZa,GAYQC,KAAD,IAAU;AAE1B,WAAKC,QAAL,CAAc,EACZ,GAAG,KAAKC,KADI;AACG,SAACF,KAAK,CAACG,MAAN,CAAaC,IAAd,GAAqBJ,KAAK,CAACG,MAAN,CAAaE;AADrC,OAAd;AAGD,KAjBU;;AAAA,SAoBbC,YApBa,GAoBGN,KAAD,IAAW;AAEtBA,MAAAA,KAAK,CAACO,cAAN;AAEA,YAAMC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,MADG;AAEXC,QAAAA,OAAO,EAAE;AACT,0BAAgB;AADP,SAFE;AAKXC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKX,KAApB;AALK,OAAf;AAQAY,MAAAA,KAAK,CAAC,8BAAD,EAAiCN,MAAjC,CAAL,CACCO,IADD,CACOC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADf,EAECF,IAFD,CAEOG,IAAI,IAAI;AACX,YAAIA,IAAI,CAACC,KAAT,EAAe;AACXC,UAAAA,KAAK,CAACF,IAAI,CAACC,KAAN,CAAL;AAEH,SAHD,MAGO;AACHE,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,GAAnC,EADG,CAEH;;AACA,eAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAyB,YAAWR,IAAI,CAACS,EAAG,EAA5C;AAEH;AACJ,OAZD;AAaH,KA7CY;;AAIT,SAAKzB,KAAL,GAAW;AACP0B,MAAAA,UAAU,EAAE,EADL;AAEPC,MAAAA,SAAS,EAAE,EAFJ;AAGPC,MAAAA,SAAS,EAAC,EAHH;AAIPC,MAAAA,QAAQ,EAAE;AAJH,KAAX;AAMH;;AAqCDC,EAAAA,MAAM,GAAE;AAEJ,wBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAK1B,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAyB,MAAA,QAAQ,EAAE,KAAKP,iBAAxC;AAA2D,MAAA,WAAW,EAAC,YAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEI;AAAO,MAAA,IAAI,EAAC,WAAZ;AAAwB,MAAA,QAAQ,EAAE,KAAKA,iBAAvC;AAA0D,MAAA,WAAW,EAAC,WAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAO,MAAA,IAAI,EAAC,WAAZ;AAAwB,MAAA,QAAQ,EAAE,KAAKA,iBAAvC;AAA0D,MAAA,WAAW,EAAC,UAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAII;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,QAAQ,EAAE,KAAKA,iBAAtD;AAAyE,MAAA,WAAW,EAAC,UAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,gBAFJ;AAaH;;AAhEyB;;AAmE9B,eAAeF,MAAf","sourcesContent":["import React, { Component } from \"react\";\n\nclass Signup extends Component{\n\n    constructor(){\n    \n        super()\n\n        this.state={\n            first_name: \"\",\n            last_name: \"\",\n            user_name:\"\",\n            password: \"\"\n        }\n    }\n\n    handleInputChange = (event)=> {\n  \n        this.setState({\n          ...this.state, [event.target.name]: event.target.value\n        })\n      }\n\n    \n    handleSubmit = (event) => {\n\n        event.preventDefault()\n\n        const reqObj = {\n            method: 'POST',\n            headers: {\n            \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(this.state)\n        }\n        \n        fetch(\"http://localhost:3000/signup\", reqObj)\n        .then( resp => resp.json() )\n        .then( data => {\n            if (data.error){\n                alert(data.error)\n            \n            } else {\n                localStorage.setItem(\"token\", data.jwt)\n                // it seems like I'm not properly setting the token here. When I sign up and run (in console) local.storage\n                this.props.history.push(`/profile/${data.id}`)\n                \n            }\n        } ) \n    }\n\n    render(){\n        \n        return(\n            \n            <div>\n                <form onSubmit={this.handleSubmit}>\n                <input name='first_name' onChange={this.handleInputChange} placeholder=\"First Name\"/>\n                    <input name='last_name' onChange={this.handleInputChange} placeholder=\"Last Name\"/>\n                    <input name='user_name' onChange={this.handleInputChange} placeholder=\"username\"/>\n                    <input name='password' type=\"password\" onChange={this.handleInputChange} placeholder=\"password\"/>\n                    <input type=\"submit\" value=\"Submit\" />\n                </form>\n                Signup page\n            </div>\n        )\n    }\n}\n\nexport default Signup"]},"metadata":{},"sourceType":"module"}